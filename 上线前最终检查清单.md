# 上线前最终检查清单

## ✅ 已完成工作确认

### 前端
- [x] API对接完成
- [x] 环境变量配置完成
- [x] 加载和错误状态处理完成
- [x] 移动端优化完成

### 后端
- [x] 核心API开发完成
- [x] OTA链接生成完成（PID: 284116645）
- [x] 信任信号动态更新实现完成
- [x] 定时任务配置完成

### 运营
- [x] 20个城市数据准备完成
- [x] 推荐文案撰写完成
- [x] 信任信号数据设置完成

### 测试
- [x] 联调测试全部通过（100%）
- [x] 功能测试通过
- [x] 数据验证通过

---

## 🚀 上线前检查

### 环境变量配置
- [ ] 前端：`NEXT_PUBLIC_API_URL` 已配置（生产环境）
- [ ] 后端：`OTA_PID=284116645` 已配置（生产环境）
- [ ] 后端：`NODE_ENV=production` 已配置

### 部署状态
- [ ] 前端已部署到Vercel
- [ ] 后端已部署到Railway/Render
- [ ] 生产环境能正常访问
- [ ] API能正常调用

### 功能验证
- [ ] 首页推荐列表正常显示
- [ ] 详情页正常显示
- [ ] CTA按钮正常显示
- [ ] CTA链接能正常跳转
- [ ] 移动端体验良好

### 信任信号更新
- [ ] 定时任务已配置
- [ ] 测试脚本验证通过
- [ ] 更新规则合理

---

## ⚠️ 上线后第1天必须执行

### 最高优先级：度假CTA返佣验证

**执行时间：** 上线后立即执行

**执行步骤：**
1. [ ] 点击生产环境的「套餐CTA」
2. [ ] 登录携程联盟后台
3. [ ] 检查是否有展现/点击/CPS记录
4. [ ] **如果没有记录 → 立即下掉套餐CTA**

**应急方案：**
- 如果没有返佣记录，立即：
  1. 修改后端代码，移除套餐CTA
  2. 修改前端代码，隐藏套餐按钮
  3. 重新部署
  4. 只保留酒店+交通两个CTA

**预计时间：** 10分钟（如果验证失败）

---

### 信任信号动态更新验证

**执行时间：** 上线后24小时内

**验证内容：**
- [ ] 检查数据是否已更新
- [ ] 验证更新规则是否合理
- [ ] 确认定时任务正常运行

**验证方法：**
- 检查数据文件或数据库
- 对比更新前后的数据
- 确认增长合理

---

## 📊 数据观察准备

### 必须监控的3个指标
1. **首页推荐卡CTR**（点击率）
2. **CTA点击次数**
3. **是否真实跳到OTA**（哪怕只有1次）

### 不要监控
- ❌ 转化率（那是OTA的事）
- ❌ 成交金额（那是OTA的事）
- ❌ 用户停留时间（不是核心指标）

---

## 🎯 上线目标

**核心目标：3天内必须能点出去**

**当前状态：**
- ✅ 功能开发完成
- ✅ 测试全部通过
- ✅ 信任信号动态更新完成
- 🔄 准备部署上线

**上线后目标：**
- 能正常访问
- 能正常点击
- 能正常跳转OTA
- 能观察点击数据

---

## 📝 上线后行动清单

### 上线后立即（第1优先级）
- [ ] **度假CTA返佣验证**（必须）
- [ ] 核心功能验证
- [ ] 数据观察准备

### 上线后24小时内
- [ ] 信任信号动态更新验证
- [ ] 数据观察记录
- [ ] 问题修复（如有）

### 上线后第1周
- [ ] 持续数据观察
- [ ] 优化建议收集
- [ ] 迭代优化

---

## ⚠️ 关键提醒

1. **度假CTA验证是最高优先级**
   - 上线后立即执行
   - 如果没有返佣，立即下掉
   - 这是"保钱"动作

2. **信任信号必须"动起来"**
   - 定时任务已实现
   - 每天自动更新
   - 避免用户发现数据不更新

3. **只看点击数据**
   - CTR、CTA点击、是否跳到OTA
   - 不要看转化和成交

---

**创建时间：现在**
**执行时间：部署完成后立即开始**
**优先级：最高**

