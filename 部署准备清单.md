# éƒ¨ç½²å‡†å¤‡æ¸…å•

## âœ… å·²å®Œæˆçš„ä¿®æ”¹

### åç«¯ä¿®æ”¹
- âœ… ä¿®å¤åŸå¸‚åç§°é—®é¢˜ï¼ˆç¦æ­¢ fallbackï¼Œåªä½¿ç”¨ `city_name`ï¼‰
- âœ… ä¿®å¤ç«è½¦ç¥¨é“¾æ¥æ ¼å¼ï¼ˆä½¿ç”¨æ­£ç¡®çš„æºç¨‹é“¾æ¥æ ¼å¼ï¼š`webapp/train/list`ï¼‰
- âœ… æ·»åŠ æ•°æ®æ ¡éªŒï¼ˆ`validate-destinations.js`ï¼‰
- âœ… æ·»åŠ æµ‹è¯•ç”¨ä¾‹ï¼ˆ`test-city-name.js`ï¼‰
- âœ… æ•°æ®æ–‡ä»¶å·²æ·»åŠ  `city_name` å­—æ®µ

### å‰ç«¯ä¿®æ”¹
- âœ… ä¿®æ”¹æ ‡é¢˜ä¸º"å­¦ç”Ÿæ—…æ¸¸æ¨è - å‡æ—¥å»å“ªç©"
- âœ… æ·»åŠ å‡ºå‘åœ°é€‰æ‹©å™¨ï¼ˆåœ¨å¯¼èˆªæ å³ä¾§ï¼‰
- âœ… æ›´æ–° API è°ƒç”¨ä»¥ä¼ é€’ `origin` å‚æ•°
- âœ… æ›´æ–° Recommendation æ¥å£ï¼ŒåŒ…å« `cta_links` å­—æ®µ

## ğŸ“‹ éƒ¨ç½²æ­¥éª¤

### 1. æäº¤ä»£ç åˆ° Git

```bash
# æäº¤æ ¸å¿ƒä¿®æ”¹
git add backend/server.js data/destinations.json frontend/
git commit -m "ä¿®å¤åŸå¸‚åç§°é—®é¢˜å’Œç«è½¦ç¥¨é“¾æ¥ï¼Œæ·»åŠ å‡ºå‘åœ°é€‰æ‹©å™¨"

# æäº¤å·¥å…·è„šæœ¬ï¼ˆå¯é€‰ï¼‰
git add backend/validate-destinations.js backend/test-city-name.js
git commit -m "æ·»åŠ æ•°æ®æ ¡éªŒå’Œæµ‹è¯•å·¥å…·"

# æ¨é€åˆ°è¿œç¨‹
git push origin main
```

### 2. åç«¯éƒ¨ç½²åˆ° Render

**è‡ªåŠ¨éƒ¨ç½²ï¼š**
- Render ä¼šè‡ªåŠ¨æ£€æµ‹ Git push å¹¶å¼€å§‹éƒ¨ç½²
- éƒ¨ç½²æ—¶é—´ï¼šçº¦ 2-5 åˆ†é’Ÿ

**æ‰‹åŠ¨è§¦å‘ï¼ˆå¦‚æœéœ€è¦ï¼‰ï¼š**
1. ç™»å½• Render Dashboard: https://dashboard.render.com
2. æ‰¾åˆ°åç«¯æœåŠ¡ï¼š`travel-backend-afnq`
3. ç‚¹å‡» "Manual Deploy" â†’ "Deploy latest commit"

**éªŒè¯éƒ¨ç½²ï¼š**
```bash
# å¥åº·æ£€æŸ¥
curl https://travel-backend-afnq.onrender.com/health

# æµ‹è¯•æ¨èAPIï¼ˆå¸¦å‡ºå‘åœ°å‚æ•°ï¼‰
curl "https://travel-backend-afnq.onrender.com/api/recommendations?type=week&origin=åŒ—äº¬"
```

### 3. å‰ç«¯éƒ¨ç½²åˆ° Vercel

**è‡ªåŠ¨éƒ¨ç½²ï¼š**
- Vercel ä¼šè‡ªåŠ¨æ£€æµ‹ Git push å¹¶å¼€å§‹éƒ¨ç½²
- éƒ¨ç½²æ—¶é—´ï¼šçº¦ 1-3 åˆ†é’Ÿ

**æ‰‹åŠ¨è§¦å‘ï¼ˆå¦‚æœéœ€è¦ï¼‰ï¼š**
1. ç™»å½• Vercel Dashboard: https://vercel.com/dashboard
2. æ‰¾åˆ°å‰ç«¯é¡¹ç›®ï¼š`travel-woad-five`
3. ç‚¹å‡» "Redeploy"

**éªŒè¯éƒ¨ç½²ï¼š**
- æ‰“å¼€å‰ç«¯ç½‘ç«™ï¼šhttps://travel-woad-five.vercel.app
- æµ‹è¯•å‡ºå‘åœ°é€‰æ‹©å™¨åŠŸèƒ½
- æµ‹è¯•"ç°åœ¨å»è®¢"æŒ‰é’®è·³è½¬

## ğŸ” éƒ¨ç½²åéªŒè¯æ¸…å•

### åç«¯éªŒè¯
- [ ] å¥åº·æ£€æŸ¥è¿”å› 200
- [ ] æ¨èAPIæ­£å¸¸è¿”å›æ•°æ®
- [ ] æ¨èAPIæ”¯æŒ `origin` å‚æ•°
- [ ] ç«è½¦ç¥¨é“¾æ¥æ ¼å¼æ­£ç¡®ï¼ˆ`webapp/train/list`ï¼‰
- [ ] æ‰€æœ‰åŸå¸‚çš„ `city_name` æ­£ç¡®

### å‰ç«¯éªŒè¯
- [ ] æ ‡é¢˜æ˜¾ç¤ºä¸º"å­¦ç”Ÿæ—…æ¸¸æ¨è - å‡æ—¥å»å“ªç©"
- [ ] å‡ºå‘åœ°é€‰æ‹©å™¨æ­£å¸¸æ˜¾ç¤ºå’Œå·¥ä½œ
- [ ] é€‰æ‹©ä¸åŒå‡ºå‘åœ°åï¼Œæ¨èåˆ—è¡¨æ›´æ–°
- [ ] "ç°åœ¨å»è®¢"æŒ‰é’®ä½¿ç”¨æ­£ç¡®çš„å‡ºå‘åœ°
- [ ] ç§»åŠ¨ç«¯æ˜¾ç¤ºæ­£å¸¸

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **æ•°æ®æ–‡ä»¶è·¯å¾„**ï¼šç¡®ä¿ Render èƒ½è®¿é—® `data/destinations.json`
   - å¦‚æœä½¿ç”¨ Git éƒ¨ç½²ï¼Œæ–‡ä»¶ä¼šè‡ªåŠ¨åŒ…å«
   - å¦‚æœä½¿ç”¨å…¶ä»–æ–¹å¼ï¼Œéœ€è¦æ‰‹åŠ¨ä¸Šä¼ 

2. **ç¯å¢ƒå˜é‡**ï¼šæ£€æŸ¥ Render ç¯å¢ƒå˜é‡
   - `OTA_PID=284116645`
   - `ALLIANCE_ID=7463534`
   - `OUID=kfptpcljzh`

3. **å‰ç«¯ç¯å¢ƒå˜é‡**ï¼šæ£€æŸ¥ Vercel ç¯å¢ƒå˜é‡
   - `NEXT_PUBLIC_API_URL=https://travel-backend-afnq.onrender.com`

4. **éƒ¨ç½²é¡ºåº**ï¼šå»ºè®®å…ˆéƒ¨ç½²åç«¯ï¼Œå†éƒ¨ç½²å‰ç«¯

## ğŸ› å¦‚æœéƒ¨ç½²å¤±è´¥

### åç«¯éƒ¨ç½²å¤±è´¥
1. æ£€æŸ¥ Render æ—¥å¿—ï¼šæŸ¥çœ‹é”™è¯¯ä¿¡æ¯
2. æ£€æŸ¥ç¯å¢ƒå˜é‡ï¼šç¡®ä¿æ‰€æœ‰å¿…éœ€å˜é‡å·²é…ç½®
3. æ£€æŸ¥æ•°æ®æ–‡ä»¶ï¼šç¡®ä¿ `destinations.json` åŒ…å« `city_name` å­—æ®µ

### å‰ç«¯éƒ¨ç½²å¤±è´¥
1. æ£€æŸ¥ Vercel æ„å»ºæ—¥å¿—ï¼šæŸ¥çœ‹é”™è¯¯ä¿¡æ¯
2. æ£€æŸ¥ç¯å¢ƒå˜é‡ï¼šç¡®ä¿ `NEXT_PUBLIC_API_URL` æ­£ç¡®
3. æ£€æŸ¥ API è¿æ¥ï¼šç¡®ä¿åç«¯æœåŠ¡æ­£å¸¸è¿è¡Œ

## ğŸ“ å¿«é€Ÿæµ‹è¯•å‘½ä»¤

```bash
# æµ‹è¯•åç«¯å¥åº·æ£€æŸ¥
curl https://travel-backend-afnq.onrender.com/health

# æµ‹è¯•æ¨èAPIï¼ˆåŒ—äº¬å‡ºå‘ï¼‰
curl "https://travel-backend-afnq.onrender.com/api/recommendations?type=week&origin=åŒ—äº¬"

# æµ‹è¯•æ¨èAPIï¼ˆä¸Šæµ·å‡ºå‘ï¼‰
curl "https://travel-backend-afnq.onrender.com/api/recommendations?type=week&origin=ä¸Šæµ·"
```

