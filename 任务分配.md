# 旅游目的地推荐网站 - 任务分配

## 项目目标
**3天内必须能点出去**（首页 + 推荐卡片 + OTA跳转链接）

---

## 一、前端工程师任务（最高优先级）

### 🎯 核心目标
**首页必须让学生"不动脑子就点一个"**

### ✅ 第1阶段任务（必须3天内完成）

#### 任务1.1：项目基础架构搭建
**时间：第1天上午（2-3小时）**

**要求：**
- **技术选型已定死**：Next.js 14 + TypeScript + Tailwind CSS
- 原因：SEO友好 + Vercel部署省心，避免第1天上午浪费时间纠结
- 配置好开发环境和生产部署（Vercel）

**交付标准：**
- [ ] 项目能跑起来
- [ ] 能访问首页
- [ ] 能部署到线上

#### 任务1.2：推荐优先的首页（核心）
**时间：第1天下午 + 第2天（最重要）**

**页面结构：**
```
┌─────────────────────────────────┐
│ Logo + 导航栏                   │
├─────────────────────────────────┤
│ 【本周推荐】标签                │
│ ┌──────┐ ┌──────┐ ┌──────┐    │
│ │推荐1 │ │推荐2 │ │推荐3 │    │
│ └──────┘ └──────┘ └──────┘    │
│                                 │
│ 【本月推荐】标签                │
│ ┌──────┐ ┌──────┐ ┌──────┐    │
│ │推荐4 │ │推荐5 │ │推荐6 │    │
│ └──────┘ └──────┘ └──────┘    │
│                                 │
│ [筛选] 按钮（可折叠，次要）     │
└─────────────────────────────────┘
```

**关键要求：**
- ✅ 打开网站直接看到推荐（无需任何操作）
- ✅ 首屏就有推荐卡片
- ✅ 推荐卡片必须包含CTA按钮
- ✅ 移动端优先（响应式设计）

**判断标准：**
- 我是学生，我会不会不动脑子就点一个？
- 首屏是否就有"推荐"？
- CTA是否在可视区？

#### 任务1.3：高转化推荐卡片组件
**时间：第2天（与首页同步开发）**

**卡片设计：**
```
┌─────────────────────────────────┐
│ [封面图]                        │
│ 🎒【学生周末推荐】              │
│ 📍 杭州                         │
│ 💰 人均：600-800                │
│ 🚄 高铁直达 · 1.5h             │
│ ☀️ 未来两天晴                   │
│ 📅 适合1-2天                    │
│ 预算600-800内可成行             │
│                                 │
│ ✅ 已被120名学生选择            │
│ （或：🔥 最近7天点击最多）      │
│                                 │
│ [👉 查看学生最低价] [CTA按钮]  │
└─────────────────────────────────┘
```

**信任信号显示规则（重要）：**
- ❌ 一张卡里3个信任信号 = 信息噪音
- ✅ 每张卡最多显示1-2个
- 普通卡：显示"已被XXX名学生选择"
- 主推卡：显示"🔥 最近7天点击最多"

**关键细节（必须注意）：**
1. **CTA永远在可视区**（不要被折叠）
2. **"预算/时间/天气"要在CTA上方**（决策信息优先）
3. **不要让用户"犹豫要不要点"**（卡片 = 广告位，不是信息展示）

**CTA文案要求：**
- ❌ 不用："查看详情"、"查看方案"
- ✅ 必须用："查看学生最低价"、"现在去订（携程）"

**交付标准：**
- [ ] 卡片组件可复用
- [ ] CTA按钮醒目（颜色、大小、位置）
- [ ] 移动端点击区域足够大（至少44x44px）
- [ ] 卡片hover效果（桌面端）

#### 任务1.4：详情页（简化版）
**时间：第3天**

**页面结构（按优先级）：**
1. 一句话结论："适合预算800内、周末放松、不折腾"
2. 信任信号：已被XXX名学生选择
3. 为什么推荐（3条理由）
4. **价格入口（最重要，3个CTA）**
   - 🏨 查看学生最低价（携程）
   - 🚄 现在去订（高铁/机票）
   - 🎫 查看优惠套餐
5. 参考行程（简单）
6. 其他信息（底部）

**关键要求：**
- ✅ 3个CTA按钮必须醒目
- ✅ CTA文案必须"像钱"
- ✅ 移动端CTA在首屏可见

### ✅ 第2阶段任务（上线后优化）

- 筛选功能（次要，可折叠）
- 信任信号模块优化
- 加载状态、空状态、错误状态
- 性能优化

---

## 二、后端工程师任务（极简即可）

### 🎯 核心目标
**能读数据、能拼链接、能缓存天气**

### ✅ 第1阶段任务（必须3天内完成）

#### 任务2.1：项目基础架构
**时间：第1天上午（1-2小时）**

**技术选型（二选一）：**
- **方案A（推荐）**：Node.js + Express + SQLite
- **方案B**：Python + FastAPI + JSON文件

**要求：**
- 极简架构，能跑就行
- 不需要复杂权限系统
- 不需要微服务

**交付标准：**
- [ ] 后端服务能启动
- [ ] 能返回JSON数据
- [ ] 能部署到线上

#### 任务2.2：推荐列表API（核心）
**时间：第1天下午**

**API设计：**
```
GET /api/recommendations
Query Parameters:
  - origin: 出发地（可选）
  - type: 推荐类型（week/weekend/month/popular）

Response:
{
  "code": 200,
  "data": {
    "list": [
      {
        "id": 1,
        "name": "杭州",
        "tag": "学生周末推荐",
        "budget_range": "600-800",
        "primary_reason": "预算600-800内可成行", // 新增：直接用于CTA上方文案
        "distance": 150,
        "transport": "高铁直达 · 1.5h",
        "weather": "未来两天晴",
        "suitable_days": "1-2天",
        "trust_signals": {
          "student_count": 120,
          "click_count_7d": 85,
          "is_popular": true,
          "is_student_favorite": true
        },
        "cover_image": "...",
        "cta_text": "查看学生最低价"
      }
    ]
  }
}
```

**关键要求：**
- ✅ 必须包含`primary_reason`字段（减少前端拼逻辑）
- ✅ 信任信号数据完整（但前端只显示1-2个）

**数据来源（第一版）：**
- 从JSON文件或SQLite读取目的地数据
- 信任信号数据可以写死（内测数据）

**交付标准：**
- [ ] API能返回推荐列表
- [ ] 数据结构符合前端需求
- [ ] 至少返回10个推荐目的地

#### 任务2.3：目的地详情API
**时间：第2天**

**API设计：**
```
GET /api/destinations/:id
Query Parameters:
  - origin: 出发地（用于计算距离）

Response:
{
  "code": 200,
  "data": {
    "id": 1,
    "name": "杭州",
    "summary": "适合预算800内、周末放松、不折腾",
    "recommend_reasons": [...],
    "itinerary": [...],
    "cta_links": {
      "hotel": "OTA链接",
      "transport": "OTA链接",
      "package": "OTA链接"
    }
  }
}
```

**交付标准：**
- [ ] API能返回目的地详情
- [ ] 包含3个CTA链接字段

#### 任务2.4：OTA跳转链接生成（尽早接）
**时间：第2-3天（重要）**

**要求：**
- 对接携程联盟（优先）
- 或飞猪/去哪儿联盟
- **后端统一生成**带返佣参数的跳转链接

**关键要求（必须遵守）：**
- ❌ **不要在前端拼返佣参数**
- ✅ **所有pid/utm/source只在后端**
- ✅ 从环境变量读取PID（避免泄露）
- ✅ 前端只拿`cta_links.hotel`等完整链接

**链接格式示例：**
```
https://hotels.ctrip.com/hotels/list?city=杭州&utm_source=travel_student&pid=YOUR_PID
```

**关键点：**
- ⚠️ 不要等"做完再接"
- 链接格式、跳转参数、平台限制最容易卡你
- 建议：哪怕只先接携程，哪怕只酒店/机票其中一个

**交付标准：**
- [ ] 能生成OTA跳转链接
- [ ] 链接包含返佣参数
- [ ] 前端能正常跳转

#### 任务2.5：天气API对接（简化版）
**时间：第3天（可选，可延后）**

**要求：**
- 对接一个天气API（和风天气/OpenWeatherMap）
- 列表页只显示简化天气（晴/多云/雨）
- 强制缓存2小时（减少API调用）

**交付标准：**
- [ ] 能获取天气数据
- [ ] 有缓存机制
- [ ] API失败时有降级方案

### ✅ 第2阶段任务（上线后优化）

- 筛选功能API
- 距离计算
- 热门度数据更新
- 性能优化

---

## 三、运营/内容任务（不能逃）

### 🎯 核心目标
**写推荐文案、看点击数据、调CTA**

### ✅ 第1阶段任务（必须3天内完成）

#### 任务3.1：目的地数据准备
**时间：第1天**

**要求：**
- 选择20个学生常去城市
- 准备每个城市的基础信息：
  - 名称、封面图
  - 预算区间（人均费用）
  - 交通信息（高铁/飞机 + 时间）
  - 适合时间（1-2天/3-4天）
  - 推荐理由（3条）

**城市列表建议：**
北京、上海、杭州、南京、苏州、成都、重庆、西安、厦门、青岛、武汉、长沙、广州、深圳、天津、大连、昆明、桂林、丽江、三亚

**交付标准：**
- [ ] 20个城市数据准备完成
- [ ] 数据格式符合后端API要求
- [ ] 包含封面图片

#### 任务3.2：推荐文案撰写
**时间：第2天**

**要求：**
- 每个目的地写一句话结论
- 写3条推荐理由
- 写简单参考行程（Day1/Day2）

**文案模板：**
```
一句话结论：适合预算800内、周末放松、不折腾

推荐理由：
1. 交通简单（高铁直达，1.5h）
2. 吃住便宜（青旅多，小吃丰富）
3. 不踩雷（学生友好，安全可靠）

参考行程：
Day1：上午高铁 → 下午西湖 → 晚上河坊街
Day2：灵隐寺 → 下午返程
```

**交付标准：**
- [ ] 20个目的地文案完成
- [ ] 文案符合学生群体语言习惯
- [ ] 突出预算和便利性

#### 任务3.3：信任信号数据（弱实现）
**时间：第2天**

**要求：**
- 为每个目的地设置信任信号数据：
  - 已被XXX名学生选择（写死，如120）
  - 最近7天点击最多（标记3-5个）
  - 学生党常选（标记5-8个）

**说明：**
- 第一版可以写死
- 标注"内测数据"
- 弱信号 > 没信号

**交付标准：**
- [ ] 每个目的地有信任信号数据
- [ ] 数据格式符合前端需求

#### 任务3.4：CTA文案优化
**时间：第3天**

**要求：**
- 确保所有CTA文案"像钱"
- 测试不同文案的点击效果

**CTA文案清单：**
- 查看学生最低价
- 现在去订（携程）
- 预算800内可成行
- 学生专享价

**交付标准：**
- [ ] 所有CTA文案符合要求
- [ ] 准备A/B测试方案

### ✅ 第2阶段任务（上线后）

- 内容推广（小红书/贴吧/QQ群）
- 数据监控（CTR、转化率）
- CTA优化（A/B测试）
- 用户反馈收集

---

## 四、时间节点（严格）

### 第1天
- **上午**：前端架构 + 后端架构
- **下午**：首页开发 + 推荐API
- **晚上**：数据准备

### 第2天
- **上午**：推荐卡片组件 + 详情页开发
- **下午**：详情API + OTA链接对接
- **晚上**：文案撰写 + 信任信号数据

### 第3天
- **上午**：联调测试
- **下午**：部署上线
- **晚上**：观察数据

**第3天晚上只看3个指标（重要）：**
1. **首页推荐卡CTR**（点击率）
2. **CTA点击次数**（有多少人点了按钮）
3. **是否真实跳到OTA**（哪怕只有1次）

**不要看：**
- ❌ 转化率（那是OTA的事）
- ❌ 成交金额（那是OTA的事）
- ❌ 用户停留时间（不是核心指标）

**只看"点击"相关的数据，验证模型是否跑通。**

**关键节点：**
- ✅ 第2天结束：必须能点出去（首页 + 卡片 + OTA跳转）
- ✅ 第3天结束：必须上线

---

## 五、验收标准

### 前端验收
- [ ] 打开网站直接看到推荐（无需操作）
- [ ] 首屏就有推荐卡片
- [ ] CTA按钮醒目，在可视区
- [ ] 移动端体验良好
- [ ] 能正常跳转到OTA

### 后端验收
- [ ] 推荐API能正常返回数据
- [ ] 详情API能正常返回数据
- [ ] OTA链接能正常生成和跳转
- [ ] 服务稳定运行

### 运营验收
- [ ] 20个目的地数据完整
- [ ] 文案符合学生群体
- [ ] 信任信号数据完整
- [ ] CTA文案"像钱"

### 整体验收
- [ ] **3天内必须能点出去**
- [ ] 首页 + 推荐卡片 + OTA跳转完整流程
- [ ] 能部署到线上
- [ ] 能观察点击数据

---

## 六、注意事项

### ⚠️ 不要做的事
- ❌ 不要一口气把5件事全做完再上线
- ❌ 不要等"完美"再上线
- ❌ 不要做复杂功能（筛选、用户系统等）

### ✅ 正确节奏
1. 首页 + 推荐卡片 + 跳转 → 上线
2. 看点击数据
3. 再补详情/信任/筛选

### 📌 个人项目原则
- 功能再好，没人点 = 0
- 先上线，再优化
- 用真实数据验证，不要用逻辑自洽

---

## 七、角色职责总结

### 产品经理（你）
- 决定"砍什么"
- 决定"CTA写什么"
- 决定"什么时候上线"

### 前端工程师
- 首页 + 列表 + 详情 3页
- 移动端优先
- CTA醒目
- 首屏就有"推荐"

### 后端工程师
- 读目的地数据
- 拼OTA跳转链接
- 缓存天气结果
- 没有复杂逻辑就没有复杂Bug

### 运营/内容
- 写推荐文案
- 发内容
- 看点击数据
- 调CTA
- 没有增长，就没有验证

---

**开始时间：现在**
**截止时间：3天后必须能点出去**

